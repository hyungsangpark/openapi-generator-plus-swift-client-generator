//
//  {{>frag/generatedBy}}
//

import Foundation

extension Foundation.NSTextCheckingResult {
    enum RegexError : Error {
        case noValueFound
    }

    func intAt(_ index: Int, in str: String) throws -> Int {
        guard index >= 0, index < numberOfRanges else { throw RegexError.noValueFound }
        if let range = Swift.Range(range(at: index), in: str), let val = Int(str[range]) {
            return val
        }
        throw RegexError.noValueFound
    }

    func doubleAt(_ index: Int, in str: String) throws -> Double {
        guard index >= 0, index < numberOfRanges else { throw RegexError.noValueFound }
        if let range = Swift.Range(range(at: index), in: str), let val = Double(str[range]) {
            return val
        }
        throw RegexError.noValueFound
    }

    func stringAt(_ index: Int, in str: String) throws -> String {
        guard index >= 0, index < numberOfRanges else { throw RegexError.noValueFound }
        if let range = Swift.Range(range(at: index), in: str) {
            return String(str[range])
        }
        throw RegexError.noValueFound
    }

}